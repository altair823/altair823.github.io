<!DOCTYPE html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="1. 서론 OMV는 분명 강력한 나스 운영체제다. 1기가비트 이상 속도나 무조건적인 안정성이 반드시 필요하지 않다면 라즈베리파이에 설치된 OMV는 정말로 충분하고도 남는 성능을 보여준다. 나는 그동안 나스의 저장장치로 USB스틱, HDD, SSD 모두 사용해 보았..."> <meta name="revised" content="1af301bbb3f9a7811fd6ccd34705277318b64684"> <meta name="author" content="altair823"> <meta name="generator" content="jekyll-rtd-theme v2.0.10"><meta name="theme-color" content="#2980b9"> <title>OMV를 사용하며 겪었던 시행착오들 (1) · altair823</title> <meta name="twitter:title" content="OMV를 사용하며 겪었던 시행착오들 (1) · altair823"> <meta name="twitter:description" content="1. 서론 OMV는 분명 강력한 나스 운영체제다. 1기가비트 이상 속도나 무조건적인 안정성이 반드시 필요하지 않다면 라즈베리파이에 설치된 OMV는 정말로 충분하고도 남는 성능을 보여준다. 나는 그동안 나스의 저장장치로 USB스틱, HDD, SSD 모두 사용해 보았..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@altair823"> <meta name="twitter:url" content="http://localhost:4000/post/raspberrypi/2021-03-02-OMV(1).html"> <meta name="twitter:creator" content="@jekyll-rtd-theme v2.0.10"> <meta property="og:title" content="OMV를 사용하며 겪었던 시행착오들 (1) · altair823"> <meta property="og:description" content="1. 서론 OMV는 분명 강력한 나스 운영체제다. 1기가비트 이상 속도나 무조건적인 안정성이 반드시 필요하지 않다면 라즈베리파이에 설치된 OMV는 정말로 충분하고도 남는 성능을 보여준다. 나는 그동안 나스의 저장장치로 USB스틱, HDD, SSD 모두 사용해 보았..."> <meta property="og:locale" content="en"> <meta property="og:url" content="http://localhost:4000/post/raspberrypi/2021-03-02-OMV(1).html"> <meta property="og:type" content="article"> <meta property="article:author" content="altair823"> <meta property="article:published_time" content="2021-03-02T07:33:45+09:00"> <meta property="article:modified_time" content="2021-07-12T23:20:48+09:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "http://localhost:4000/post/raspberrypi/2021-03-02-OMV(1).html" }, "headline": "OMV를 사용하며 겪었던 시행착오들 (1) · altair823", "image": [], "author": { "@type": "Person", "name": "altair823" }, "datePublished": "2021-03-02T07:33:45+09:00", "dateModified": "2021-07-12T23:20:48+09:00", "publisher": { "@type": "User", "name": "altair823", "logo": { "@type": "ImageObject", "url": "https://avatars.githubusercontent.com/u/46125008?v=4" } }, "description": "1. 서론 OMV는 분명 강력한 나스 운영체제다. 1기가비트 이상 속도나 무조건적인 안정성이 반드시 필요하지 않다면 라즈베리파이에 설치된 OMV는 정말로 충분하고도 남는 성능을 보여준다. 나는 그동안 나스의 저장장치로 USB스틱, HDD, SSD 모두 사용해 보았..." } </script> <link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="prev" href="http://localhost:4000/post/raspberrypi/2021-03-02-transmission_error.html"><link rel="next" href="http://localhost:4000/post/raspberrypi/2021-03-02-OMV(2).html"><link rel="canonical" href="http://localhost:4000/post/raspberrypi/2021-03-02-OMV(1).html"><link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg"><link rel="icon" type="image/png" href="/assets/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/assets/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="/assets/images/favicon-96x96.png" sizes="96x96"><link rel="mask-icon" href="/assets/images/favicon.svg" color="#2980b9"><link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-300x300.jpg"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/css/theme.min.css"><script> window.ui = { title: "altair823", baseurl: "", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"><div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/" title="personal tech blog"> <i class="fa fa-home"></i> altair823 </a> </div> <span class="version"></span> <form class="search pt-2" action="/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/post/"> 컴퓨터 </a><ul> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/post/data_structure/"> 자료구조 </a><ul> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/data_structure/2021-04-27-qsort.html">qsort.c 분석</a> </li> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/data_structure/2021-05-10-Linked_list_searching_with_index.html">연결리스트에서 탐색 빠르게 하기</a> </li> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/data_structure/2021-06-26-Tree.html">AVL과 RB비교</a> </li></ul> </li> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/post/raspberrypi/"> 라즈베리파이 </a><ul> <li class="toc level-2 " data-sort="1" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/raspberrypi/2021-02-27-first.html">1. 라즈베리파이에 관한 이야기</a> </li> <li class="toc level-2 " data-sort="2" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/raspberrypi/2021-02-27-madeNAS.html">2. 라즈베리파이에 OMV로 NAS만들기</a> </li> <li class="toc level-2 " data-sort="3" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/raspberrypi/2021-03-02-transmission_error.html">3. 트랜스미션 &#8220;Permission denied&#8230;&#8221; 오류 해결하기</a> </li> <li class="toc level-2 current" data-sort="4" data-level="2"> <a class="d-flex flex-items-baseline current" href="/post/raspberrypi/2021-03-02-OMV(1).html">4. OMV를 사용하며 겪었던 시행착오들 (1)</a> </li> <li class="toc level-2 " data-sort="5" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/raspberrypi/2021-03-02-OMV(2).html">5. OMV를 사용하며 겪었던 시행착오들 (2)</a> </li></ul> </li> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/post/extra/"> 기타 </a><ul> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/extra/2021-06-02-Linux_mint_review_1.html">리눅스 민트 설치 후기 1</a> </li> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/extra/2021-06-02-Linux_mint_review_2.html">리눅스 민트 설치 후기 2</a> </li></ul> </li> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/post/Python/"> 파이썬 </a><ul> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/Python/2021-06-30-Project_Word_Finder_1.html">Word Finder 개발기 1</a> </li> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/Python/2021-07-05-Project_Word_Finder_2.html">Word Finder 개발기 2</a> </li> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/Python/2021-07-05-Project_Word_Finder_3.html">Word Finder 개발기 3</a> </li></ul> </li></ul> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/">altair823</a> </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/" title="/"> <i class="fa fa-home"></i> </a> </li><li class="breadcrumb-item" ><a href="/post/">post</a></li><li class="breadcrumb-item" ><a href="/post/raspberrypi/">raspberrypi</a></li><li class="breadcrumb-item" aria-current="page">2021-03-02-OMV(1).md</li></ul> <a class="edit" href="https://github.com/altair823/altair823.github.io/edit/gh-pages/post/raspberrypi/2021-03-02-OMV(1).md" title="Edit on GitHub" rel="noreferrer" target="_blank"> <i class="fa fa-edit"></i> </a> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h2 id="1-서론">1. 서론</h2> <p>OMV는 분명 강력한 나스 운영체제다. 1기가비트 이상 속도나 무조건적인 안정성이 반드시 필요하지 않다면 라즈베리파이에 설치된 OMV는 정말로 충분하고도 남는 성능을 보여준다. 나는 그동안 나스의 저장장치로 USB스틱, HDD, SSD 모두 사용해 보았다. 저렴한 가격에 USB를 사용해 보았지만 너무나 낮은 쓰기 속도로 인해 하드디스크를 달았고, 컴퓨터를 업그레이드 하면서 나온 SSD를 라즈베리파이에 달았다. 나는 전자제품을 커스터마이징 할 때 기기가 할 수 있는 모든 기능을 다 경험해본 다음 깔끔하게 포맷하여 내가 필요한 기능만을 사용하는 것을 좋아한다. 그래서 라즈베리파이에 달릴 저장장치들을 추가할 때마다 여러번 OMV를 밀고 다시 설치하기를 반복했다.</p> <p>그러나 그때마다 정말로 다양한 문제를 마주하였다. 그리고 그런 문제의 답은 단순히 프로젝트 소개, how to do 수준의 글들에서는 찾아볼 수 없는 경우가 많았다. 얕은 지식 수준에서 스스로 해결할 수 있는 문제는 별로 없었고, 아주 작은 요류만으로도 라즈비안 전체를 포맷해야 하는 불쾌한 경험을 했다.</p> <p>그런 과정 속에서 얻은 얼마 안되는 해결책을 좀 써보려고 한다. 많은 것들을 외국 페이지들에서 배웠고 특히 OMV공식 포럼에서 많은 도움을 받았다. 맨 땅에 헤딩하며 배우는 것들도 있겠지만 가장 좋은 것은 헤딩도 하지 않고 배우는 것이라고 생각하며 겪었던 경험들을 소개한다.</p> <h2 id="2-시행착오들">2. 시행착오들</h2> <h4 id="1-라즈베리파이-sd카드-슬롯고장">1) 라즈베리파이 SD카드 슬롯고장</h4> <p>나는 데비안 기반 운영체제를 라즈베리파이로 처음 접했다.  sudo, apt, 그 모든게 너무나 이질적이면서도 신기했다. 프로그램을 설치하려고 온갖 사이트를 돌아다닐 필요없이 영어 몇 줄이면 알아서 필요한 프로그램을 깔아주는 터미널은 정말 충격적이었다. 라즈비안 lite버전을 깔아 GUI환경을 내 맘대로 구성하는 것은 하얀 눈에 그림그리는 어린 아이가 된 기분이었다.</p> <p>그렇게 신기한 것들을 경험하던 어느 날, 라즈베리파이가 부팅이 되지 않았다. 모니터가 하나 밖에 없었기에 주로 ssh를 통해 제어하던 나는 단지 ssh 연결 문제인줄 알았다. 하지만 모니터에 연결하여 부팅했을 때 나온 메시지는 마이크로 sd카드가 존재하지 않다는 것이었다. 항상 백업은 중요하다고 생각한다. 그래서 처음 주문할 때도 sd카드를 두 개 주문했었다. 하나는 주로 사용할 sd카드, 하나는 백업을 하거나 실험적인 테스트를 할 sd카드였다. 하지만 얼척 없게도 두 카드 모두 인식이 되지 않았다. 두 카드 모두 OMV가 설치된 라즈비안이 깔려있었다.</p> <p><img src="https://user-images.githubusercontent.com/46125008/123520644-98da4780-d6ec-11eb-9ef5-570e68c41aeb.jpg" /></p> <p>마이크로 sd카드는 상대적으로 불안정하고 특히 전원이 순간적으로 차단되면 안에 파일들이 깨질 수 있다는 글을 보았다. 얼핏 기억하기로는 전원이 켜져있었던 상태로 sd카드를 뽑았던 것 같았다. 그렇게 카드 고장인 줄 알고 새 카드를 주문했다. 하지만 새 카드 역시 인식이 되지 않았다. 그제서야 sd카드 리더기로 컴퓨터에 연결해 보았더니 모두 인식이 정상적으로 되는 것이었다. 하나의 남은 가능성은 라즈베리파이의 sd카드 슬롯의 고장이었다.</p> <p>파이를 어떻게 부팅해야할까 고민하던 찰나, usb에 os를 설치하여 라즈베리파이를 부팅할 수 있다는 말을 들었던 기억이 났다. 천만다행히도 주기적인 업데이트 과정에서 라즈베리파이의 부트로더가 업데이트 되어있었다. 내 라즈베리파이는 그때부터 지금까지 마이크로 sd카드보다 더 안정적이고 유연한 usb를 통해 부팅한다.</p> <p>만약 지금 다시 라즈베리파이를 산다면 특별한 이유가 아니면 개인적으로는 절대 마이크로sd카드를 사용하지 않을 것 같다.  usb, 특히 3.0규격으로 연결한 장치에 os를 설치하면 더욱 안정적이고 빠른 속도를 경험할 수 있다. 임베디드나 IoT같은 용도로 라즈베리파이를 사용하면 마이크로 sd카드의 작은 크기가 분명히 필요한 요소일 것이다. 하지만 나처럼 프로젝트를 여러개 올리거나, 자주 포맷을 해야할 필요가 있거나, 높은 안정성을 기대해야 할 경우에는 부트로더를 업데이트하여 usb부팅을 사용하는 것이 더 나은 방법이라고 생각한다.</p> <h4 id="2-이미-파일이-존재하는-하드디스크를-omv에-설치하기">2) 이미 파일이 존재하는 하드디스크를 OMV에 설치하기</h4> <p>컴퓨터에 새 하드를 장착하면 당연하게도 특정한 형식으로 포맷하는게 좋다. 성능적인 면에서나 안정성의 면에서나 심지어 어떤 하드들은 아예 파일 시스템이 잡히지 않는다. OMV에서도 똑같다. 새로 하드를 설치하면 윈도우의 NTFS나 맥의 APFS이 아닌 EXT4나 BTRFS와 같이 리눅스에서 자주 사용하는 형식으로 하드를 포맷하는 것이 좋다.</p> <p>처음 설치했던 1테라 짜리 하드가 가득 차고 새로 4테라 짜리 하드를 구매하여 연결했다. EXT4로 포맷했고 벌써 1.3테라는 채웠을 때였다. 내가 가진 하드 도킹스테이션은 2베이이고 하드는 총 3개가 있다. 하나는 주 백업 용도, 하나는 맥의 타임머신 용도, 하나는 파일 아카이브 용도로 사용하려고 했다. 그러나 세 개의 하드를 모두 연결하지 않으면 OMV의 설정이 저장되지 않는 오류가 발생했다. (이에 대한 자세한 내용은 밑에서 더 설명한다)  그때는 이에 대한 해결책을 찾지 못했기에 os를 재설치하는 것이 가장 깔끔한 방법이라고 생각했다. 하지만 문제가 있었다. 나는 이미 총 2테가 가량되는 모든 파일을 하드디스크에 백업해둔 상태였으며, 파일들이 저장된 하드들을 다시 포맷하기에는 그 파일들을 옮겨둘 용량을 가진 저장장치가 없었다. 드롭박스나 원드라이브 같은 클라우드 서비스도 를 알아보았으나 용량이 크지 않거나 파일들을 옮기는 속도가 너무 느렸다.</p> <p><img src="https://user-images.githubusercontent.com/46125008/123520646-9972de00-d6ec-11eb-88eb-c25fb77c1450.png" /></p> <p>한국어 웹사이트에서는 이에 대한 명확한 답을 얻지 못했다. 결국 건너건너 도착한 OMV포럼에서 정확한 답을 얻을 수 있었다.</p> <p><img src="https://user-images.githubusercontent.com/46125008/123520647-9972de00-d6ec-11eb-9771-f35307ec951b.png" /></p> <p>공식 문서에 나열된 지원되는 파일 시스템들은 포맷없이 마운트가 가능하고 사용도 가능하다. (웹 UI에서 btrfs의 스냅샷이나 서브볼륨 같은 기능은 사용 불가능하다. 내부 설정을 건드리면 일부 사용 가능하다고는 한다) (zfs는 해당 플러그인을 설치하면 이용할 수 있다) 따라서 EXT4와 같은 지원되는 파일 시스템을 가진, 지워서는 안되는 파일이 있는 장치는 OMV에 따로 포맷 걱정 없이 연결할 수 있다.</p> <p>이런 정보를 얻은 덕분에 안심하고 os를 재설치 한 뒤 안전하게 하드를 다시 이용할 수 있었다. 단지 유의해야 할 부분이라면 이용하려는 파일들을 OMV 웹 UI 에서 생성한 공유폴더 아래로 옮겨야 한다는 점이다. 아니면 가장 상위폴더 명과 생성하려는 공유폴더 명을 같게하고 경로를 해당 폴더에 잡아주면 그대로 안에 내용들에 접근 가능하다.</p> <p> </p> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"><a href="/post/raspberrypi/2021-03-02-transmission_error.html" class="btn" title="트랜스미션 &#8220;Permission denied&#8230;&#8221; 오류 해결하기" accesskey="p" rel="prev"> <i class="fa fa-arrow-circle-left"></i> Previous </a></div> <div class="next"><a href="/post/raspberrypi/2021-03-02-OMV(2).html" class="btn" title="OMV를 사용하며 겪었던 시행착오들 (2)" accesskey="n" rel="next"> Next <i class="fa fa-arrow-circle-right"></i> </a></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2021,</span> <a class="text-gray" href="https://github.com/altair823" rel="noreferrer" target="_blank">altair823</a> Revision <a class="text-gray" href="https://github.com/altair823/altair823.github.io/commit/1af301bbb3f9a7811fd6ccd34705277318b64684" title="1af301bbb3f9a7811fd6ccd34705277318b64684" rel="noreferrer" target="_blank">1af301b</a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v209">GitHub Pages</a> using a <a href="https://github.com/rundocs/jekyll-rtd-theme" rel="noreferrer" target="_blank" title="jekyll-rtd-theme v2.0.10">theme</a> provided by <a href="https://rundocs.io" rel="noreferrer" target="_blank">RunDocs</a>. </div> </div> </div> </div> <div class="addons-wrap d-flex flex-column overflow-y-auto"> <div class="status d-flex flex-justify-between p-2"> <div class="title p-1"> <i class="fa fa-book"></i> altair823 </div> <div class="branch p-1"> <span class="name"> gh-pages </span> <i class="fa fa-caret-down"></i> </div> </div> <div class="addons d-flex flex-column height-full p-2 d-none"> <dl> <dt>GitHub</dt> <dd> <a href="https://github.com/altair823/altair823.github.io" title="Stars: 0"> <i class="fa fa-github"></i> Homepage </a> </dd> <dd> <a href="https://github.com/altair823/altair823.github.io/issues" title="Open issues: 2"> <i class="fa fa-question-circle-o"></i> Issues </a> </dd> <dd> <a href="https://github.com/altair823/altair823.github.io/zipball/gh-pages" title="Size: 3369 Kb"> <i class="fa fa-download"></i> Download </a> </dd> </dl> <hr> <div class="license f6 pb-2"> This <a href="/" title="altair823">Software</a> is under the terms of <a href="https://github.com/altair823/altair823.github.io">MIT License</a>. </div> </div> </div> <script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/theme.min.js"></script> </body> </html>