<!DOCTYPE html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="미로의 자료구조 학기 중에 미로를 저장하고 최단 경로를 탐색하는 과제가 있었다. 당시에는 스택까지만 배운 상태여서 배열에 미로를 저장하였다. 하지만 이번에 미로를 생성하는 알고리즘을 구현하면서 더 이용하기 편한 형태로 미로를 저장할 기회가 있었다. 바로 그래프의 ..."> <meta name="revised" content="69fcf27ea0fd9b108443857774cd7268d70f6c44"> <meta name="author" content="altair823"> <meta name="generator" content="jekyll-rtd-theme v2.0.10"><meta name="theme-color" content="#2980b9"> <title>미로의 자료구조 · altair823</title> <meta name="twitter:title" content="미로의 자료구조 · altair823"> <meta name="twitter:description" content="미로의 자료구조 학기 중에 미로를 저장하고 최단 경로를 탐색하는 과제가 있었다. 당시에는 스택까지만 배운 상태여서 배열에 미로를 저장하였다. 하지만 이번에 미로를 생성하는 알고리즘을 구현하면서 더 이용하기 편한 형태로 미로를 저장할 기회가 있었다. 바로 그래프의 ..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@altair823"> <meta name="twitter:url" content="http://localhost:4000/post/data_structure/2021-07-13-maze_structure.html"> <meta name="twitter:creator" content="@jekyll-rtd-theme v2.0.10"> <meta property="og:title" content="미로의 자료구조 · altair823"> <meta property="og:description" content="미로의 자료구조 학기 중에 미로를 저장하고 최단 경로를 탐색하는 과제가 있었다. 당시에는 스택까지만 배운 상태여서 배열에 미로를 저장하였다. 하지만 이번에 미로를 생성하는 알고리즘을 구현하면서 더 이용하기 편한 형태로 미로를 저장할 기회가 있었다. 바로 그래프의 ..."> <meta property="og:locale" content="en"> <meta property="og:url" content="http://localhost:4000/post/data_structure/2021-07-13-maze_structure.html"> <meta property="og:type" content="article"> <meta property="article:author" content="altair823"> <meta property="article:published_time" content="2021-07-13T00:00:00+09:00"> <meta property="article:modified_time" content="2021-07-13T06:55:40+09:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "http://localhost:4000/post/data_structure/2021-07-13-maze_structure.html" }, "headline": "미로의 자료구조 · altair823", "image": [], "author": { "@type": "Person", "name": "altair823" }, "datePublished": "2021-07-13T00:00:00+09:00", "dateModified": "2021-07-13T06:55:40+09:00", "publisher": { "@type": "User", "name": "altair823", "logo": { "@type": "ImageObject", "url": "https://avatars.githubusercontent.com/u/46125008?v=4" } }, "description": "미로의 자료구조 학기 중에 미로를 저장하고 최단 경로를 탐색하는 과제가 있었다. 당시에는 스택까지만 배운 상태여서 배열에 미로를 저장하였다. 하지만 이번에 미로를 생성하는 알고리즘을 구현하면서 더 이용하기 편한 형태로 미로를 저장할 기회가 있었다. 바로 그래프의 ..." } </script> <link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="prev" href="http://localhost:4000/post/data_structure/2021-06-26-Tree.html"><link rel="canonical" href="http://localhost:4000/post/data_structure/2021-07-13-maze_structure.html"><link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg"><link rel="icon" type="image/png" href="/assets/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/assets/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="/assets/images/favicon-96x96.png" sizes="96x96"><link rel="mask-icon" href="/assets/images/favicon.svg" color="#2980b9"><link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-300x300.jpg"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/css/theme.min.css"><script> window.ui = { title: "altair823", baseurl: "", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"><div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/" title="personal tech blog"> <i class="fa fa-home"></i> altair823 </a> </div> <span class="version"></span> <form class="search pt-2" action="/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/post/"> 컴퓨터 </a><ul> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/post/data_structure/"> 자료구조 </a><ul> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/data_structure/2021-04-27-qsort.html">qsort.c 분석</a> </li> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/data_structure/2021-05-10-Linked_list_searching_with_index.html">연결리스트에서 탐색 빠르게 하기</a> </li> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/data_structure/2021-06-26-Tree.html">AVL과 RB비교</a> </li> <li class="toc level-2 current" data-sort="" data-level="2"> <a class="d-flex flex-items-baseline current" href="/post/data_structure/2021-07-13-maze_structure.html">미로의 자료구조</a> </li></ul> </li> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/post/algorithm/"> 알고리즘 </a><ul> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/algorithm/2021-07-13-Eller's_algorithm.html">미로 생성 알고리즘</a> </li></ul> </li> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/post/raspberrypi/"> 라즈베리파이 </a><ul> <li class="toc level-2 " data-sort="1" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/raspberrypi/2021-02-27-first.html">1. 라즈베리파이에 관한 이야기</a> </li> <li class="toc level-2 " data-sort="2" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/raspberrypi/2021-02-27-madeNAS.html">2. 라즈베리파이에 OMV로 NAS만들기</a> </li> <li class="toc level-2 " data-sort="3" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/raspberrypi/2021-03-02-transmission_error.html">3. 트랜스미션 &#8220;Permission denied&#8230;&#8221; 오류 해결하기</a> </li> <li class="toc level-2 " data-sort="4" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/raspberrypi/2021-03-02-OMV(1).html">4. OMV를 사용하며 겪었던 시행착오들 (1)</a> </li> <li class="toc level-2 " data-sort="5" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/raspberrypi/2021-03-02-OMV(2).html">5. OMV를 사용하며 겪었던 시행착오들 (2)</a> </li></ul> </li> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/post/extra/"> 기타 </a><ul> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/extra/2021-06-02-Linux_mint_review_1.html">리눅스 민트 설치 후기 1</a> </li> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/extra/2021-06-02-Linux_mint_review_2.html">리눅스 민트 설치 후기 2</a> </li></ul> </li> <li class="toc level-1"> <a class="d-flex flex-items-baseline" href="/post/Python/"> 파이썬 </a><ul> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/Python/2021-06-30-Project_Word_Finder_1.html">Word Finder 개발기 1</a> </li> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/Python/2021-07-05-Project_Word_Finder_2.html">Word Finder 개발기 2</a> </li> <li class="toc level-2 " data-sort="" data-level="2"> <a class="d-flex flex-items-baseline " href="/post/Python/2021-07-05-Project_Word_Finder_3.html">Word Finder 개발기 3</a> </li></ul> </li></ul> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/">altair823</a> </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/" title="/"> <i class="fa fa-home"></i> </a> </li><li class="breadcrumb-item" ><a href="/post/">post</a></li><li class="breadcrumb-item" ><a href="/post/data_structure/">data_structure</a></li><li class="breadcrumb-item" aria-current="page">2021-07-13-maze_structure.md</li></ul> <a class="edit" href="https://github.com/altair823/altair823.github.io/edit/gh-pages/post/data_structure/2021-07-13-maze_structure.md" title="Edit on GitHub" rel="noreferrer" target="_blank"> <i class="fa fa-edit"></i> </a> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h1 id="미로의-자료구조">미로의 자료구조</h1> <p>학기 중에 미로를 저장하고 최단 경로를 탐색하는 과제가 있었다. 당시에는 스택까지만 배운 상태여서 배열에 미로를 저장하였다. 하지만 이번에 미로를 생성하는 알고리즘을 구현하면서 더 이용하기 편한 형태로 미로를 저장할 기회가 있었다. 바로 그래프의 형태로 구현하는 것이다. 이에 대하여 설명하고자 한다. 지나갈 수 있는 칸과 그렇지 않은 칸들로 이루어진 형태의 미로는 다루지 않겠다.</p> <h2 id="배열로-저장하기">배열로 저장하기</h2> <p>인간이 바라보는 미로 자체에는 크게 복잡한 정보가 존재하지는 않는다. 단 두가지, 지나갈 수 있는 통로와 지나갈 수 없는 벽이 존재할 뿐이다. 칸을 모두 저장하면서 각 칸의 네 벽에 대한 정보를 저장하는 것은 분명 낭비가 있어보인다. 인접한 두 칸에서 저장한 정보가 겹치기 때문이다. 같은 값을 두 칸이 모두 저장할 필요가 있을까?</p> <h3 id="구현">구현</h3> <p>가로 x개, 세로 y개의 칸을 갖는 미로는 다음과 같은 개수의 벽을 갖는다.</p> \[x 개의 가로 벽 * (y +1) + (x+1 개의 세로 벽) * y\] <p>따라서 가로 벽과 세로 벽을 각각 배열로서 저장할 수 있다. 가로 벽 배열을 \(H\), 세로 벽 배열을 \(V\)이라고 할 때, 칸 \((x, y)\)을 둘러싼 벽은 다음과 같이 구할 수 있다(\(0 &lt;= x, 0 &lt;= y\)이며 모두 \(0\)부터 시작한다면).</p> <p>위쪽 벽: \(H[y][x]\)</p> <p>아래쪽 벽: \(H[y+1][x]\)</p> <p>왼쪽 벽: \(V[y][x+1]\)</p> <p>오른쪽 벽: \(V[y][x+1]\)</p> <p>정확한 인덱스는 다를 수 있지만 중요한 것은 함수 하나를 구현하면 단지 벽만을 저장했음에도 칸의 좌표를 통해 벽에 접근할 수 있다는 것이다. 탐색 알고리즘은 단지 좌표로 미로를 탐색할 수 있다.</p> <h2 id="그래프로-저장하기">그래프로 저장하기</h2> <p>한 편으로 미로는 그 자체로 그래프라고 생각할 수 있다. 칸은 정점이며 통로는 옆 정점으로 갈 수 있는 간선다. 따라서 벽은 무한한 가중치를 갖는 간선이다. 모서리를 제외한 모든 칸은 4개의 인접한 정점을 가질 수 있다. 인접한 두 정점에 서로로 갈 수 있는 간선을 저장하는 것은 양방향 간선을 뜻한다. 이는 특별한 규칙이 없는 이상 양방향으로 이동할 수 있다는 통로의 정의에 부합한다. 간선의 방향에 따라 다른 가중치를 부여하거나 일방향 간선으로 만드는 것은 특정 방향이 더 가기 쉽게 만들거나 일방통행으로 만들 수 있다.</p> <p>현실의 길찾기를 생각해보자. 길찾기는 미로 탐색의 변형이라고 할 수 있다. 길은 여러 개일 수 있지만 어떤 길은 여러 이유로 선호되지 않고, 어떤 길은 선호된다. 그래프의 가중치가 이 역할을 한다. 만약 미로 그래프에서 각 간선이 서로 다른 가중치를 갖는다면 최단경로 탐색 알고리즘은 여러 경로 중에 가장 비용이 적은 경로를 선택할 것이다. 비록 그 경로가 일반적인 미로에서의 경로와는 다르겠지만 말이다.</p> <p>통로에 아무런 가중치가 없는 미로에서 다익스트라 알고리즘은 나쁜 성능을 보인다. 그것은 마치 BFS 탐색과 다를 바 없을 것이다. 하지만 만약 통로에 가중치가 부여된다면 DFS, BFS를 뛰어넘는 성능의 여러 알고리즘을 사용할 수 있을 것이다.</p> <h3 id="구현-1">구현</h3> <p>미로에 한정한다면, 모든 칸은 인접한 네 개의 칸을 갖는다(모서리 칸들은 그렇지 않다는 것에 주의하자). 따라서 방향에 따른 칸 포인터 배열로 이를 정의할 수 있다. 또한 방향에 따른 가중치 배열을 정의하여 가중치를 줄 수 있다. 칸 \(V(x, y)\)의 오른쪽 간선과 가중치는 다음과 같이 얻을 수 있다.</p> <p>adjacentVertex[direction] , weight[direction] (0 &lt;= direction &lt; 4)</p> <h2 id="마치며">마치며</h2> <p>미로를 배열이 아닌 그래프로 저장하면 더 많은 공간을 필요로 한다. 배열로 저장할 때 (열림 혹은 닫힘 플래그 비트)\(* 2xy + x + y\)의 공간을 차지한다면, 그래프로 저장할 때는 (\(x\)좌표 정수 + \(y\)좌표 정수 + \(4*\)정점 포인터 + \(4*\)가중치 변수)\(* xy\)의 공간을 필요로 한다. 대강 가늠해도 더 많은 공간을 차지함을 알 수 있다.</p> <p>하지만 사실 공간이 부족할 만큼 큰 미로를 생성할 일은 별로 없다. 더군다나 단방향 간선이나 방향에 따라 가중치를 다르게 줄 수 있는 그래프가 개인적으로는 더 매력적으로 다가온다.</p> <p>미로의 칸을 배열로 구현한 코드는 <a href="https://github.com/altair823/Data_Structure/blob/master/%EB%AF%B8%EB%A1%9C%ED%83%90%EC%83%89.c">여기</a>에서, 그래프로 구현한 코드는 여기<a href="https://github.com/altair823/SPA_compare/blob/main/map/Location.h">(헤더)</a><a href="https://github.com/altair823/SPA_compare/blob/main/map/Location.cpp">(구현)</a>에서 볼 수 있다.</p> <script async src="https://utteranc.es/client.js" repo="altair823/blog_comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async=""> </script> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"><a href="/post/data_structure/2021-06-26-Tree.html" class="btn" title="AVL과 RB비교" accesskey="p" rel="prev"> <i class="fa fa-arrow-circle-left"></i> Previous </a></div> <div class="next"></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2021,</span> <a class="text-gray" href="https://github.com/altair823" rel="noreferrer" target="_blank">altair823</a> Revision <a class="text-gray" href="https://github.com/altair823/altair823.github.io/commit/69fcf27ea0fd9b108443857774cd7268d70f6c44" title="69fcf27ea0fd9b108443857774cd7268d70f6c44" rel="noreferrer" target="_blank">69fcf27</a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v209">GitHub Pages</a> using a <a href="https://github.com/rundocs/jekyll-rtd-theme" rel="noreferrer" target="_blank" title="jekyll-rtd-theme v2.0.10">theme</a> provided by <a href="https://rundocs.io" rel="noreferrer" target="_blank">RunDocs</a>. </div> </div> </div> </div> <div class="addons-wrap d-flex flex-column overflow-y-auto"> <div class="status d-flex flex-justify-between p-2"> <div class="title p-1"> <i class="fa fa-book"></i> altair823 </div> <div class="branch p-1"> <span class="name"> gh-pages </span> <i class="fa fa-caret-down"></i> </div> </div> <div class="addons d-flex flex-column height-full p-2 d-none"> <dl> <dt>GitHub</dt> <dd> <a href="https://github.com/altair823/altair823.github.io" title="Stars: 0"> <i class="fa fa-github"></i> Homepage </a> </dd> <dd> <a href="https://github.com/altair823/altair823.github.io/issues" title="Open issues: 2"> <i class="fa fa-question-circle-o"></i> Issues </a> </dd> <dd> <a href="https://github.com/altair823/altair823.github.io/zipball/gh-pages" title="Size: 3504 Kb"> <i class="fa fa-download"></i> Download </a> </dd> </dl> <hr> <div class="license f6 pb-2"> This <a href="/" title="altair823">Software</a> is under the terms of <a href="https://github.com/altair823/altair823.github.io">MIT License</a>. </div> </div> </div> <script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/theme.min.js"></script> <script> window.MathJax = {}; </script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-svg-full.js"></script> </body> </html>